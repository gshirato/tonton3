<html><head>
<script language="JavaScript">
var loadFlag=false;

function moveLAYER(layName,x,y){
    if(document.layers)document.layers[layName].moveTo(x,y)   //NNï¿½p
    if(document.all)document.all(layName).style.pixelLeft=x  //IEï¿½p
    if(document.all)document.all(layName).style.pixelTop=y   //IEï¿½p
}
function changeIMG(layindex,imgindex,imgsrc){
  if(document.layers) document.layers[layindex].document.images[0].src=imgsrc;
  if(document.all) document.images[imgindex].src=imgsrc;
}

function moveByLAYER(layName,offsetx,offsety){
    if(document.layers)document.layers[layName].moveBy(offsetx,offsety)//NNï¿½p
    if(document.all)document.all(layName).style.pixelLeft+=offsetx//IEï¿½p
    if(document.all)document.all(layName).style.pixelTop +=offsety//IEï¿½p
}
function outputLAYER(layName,html){
    if(document.layers) {                      //NNï¿½p
       with(document.layers[layName].document){
         open()
         write(html)
         close()
      }
    }
    if(document.all){                         //IEï¿½p
      document.all(layName).innerHTML=html
    }
}

var condition=new Array("ï¿½ï¿½","ï¿½cï¿½d","ï¿½d","ï¿½sï¿½ï¿½");
var ashi=new Array("","ï¿½ï¿½","ï¿½ï¿½","ï¿½ï¿½","ï¿½ï¿½");
var wakucolor=new Array("","ffffff","989898","FF6868","7878FF","FFFF68","68FF68");
var kitai=new Array(12);
var win=new Array(12);//ï¿½Pï¿½ï¿½
var kitaitotal=0;
var butatype=new Array("","ï¿½ï¿½ï¿½ï¿½","ï¿½ï¿½ï¿½","ï¿½j","ï¿½ï¿½");

var name=new Array(12);
var speed=new Array(12);//ï¿½Xï¿½sï¿½[ï¿½h
var stamina=new Array(12);//ï¿½Xï¿½^ï¿½~ï¿½i
var tobidasi=new Array(12);//ï¿½Xï¿½^ï¿½[ï¿½g
var kisyo=new Array(12);//ï¿½Cï¿½ï¿½
var seriai=new Array(12);//ï¿½ï¿½ï¿½è‡ï¿½ï¿½
var jump=new Array(12);//ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½v
var koten=new Array(12);//ï¿½rï¿½Vï¿½Kï¿½ï¿½
var pace=new Array(12);//ï¿½rï¿½ï¿½
var b=new Array(1,2,3,4,5,6,7,8,9,10,11,12);//ï¿½lï¿½C

var tobidashi_check=0;
var rank=new Array(12);//ï¿½ï¿½ï¿½ï¿½
var nowrank=0;//ï¿½Sï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Øï¿½

var nocall=new Array(true,true,true,true,true,true,true,true,true,true,true,true);//ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÅŒÄ‚Î‚Ä‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½H
var maepig=0;//ï¿½Oï¿½ÉŒÄ‚Î‚ê‚½ï¿½ï¿½
var jikkyoustep=0;//0:ï¿½Ü‚ï¿½ 1:ï¿½ï¿½Qï¿½Ë“ï¿½ 2:ï¿½ï¿½Ôlï¿½Cï¿½Ğ‰ï¿½ 3:ï¿½cï¿½ï¿½8 4:ï¿½cï¿½ï¿½4 5:ï¿½Sï¿½[ï¿½ï¿½

var butax=new Array(12);
var butay=new Array(12);

var timeId=0;
var selectn=0;
var mescount=0;
var racecount=0;

function loadfn(){
	loadflag=true;
}

loadflag=false;
function butaload(){
	if(true){
		//ï¿½æ‘œï¿½Ìƒï¿½ï¿½[ï¿½h
		ownimg1=new Image(40,40);ownimg1.src="owneranime2.gif";//ï¿½Dï¿½ï¿½
		ownimg2=new Image(40,40);ownimg2.src="owneranime1.gif";//ï¿½ï¿½ï¿½ï¿½
		ownimg3=new Image(40,40);ownimg3.src="owneranime3.gif";//ï¿½ï¿½é‚¢
		ownimg4=new Image(40,40);ownimg4.src="owneranime4.gif";//ï¿½Ğ‚Ç‚ï¿½
		ownimg5=new Image(40,40);ownimg5.src="owneranime5.gif";//ï¿½ï¿½ï¿½@
		ownimg6=new Image(40,40);ownimg6.src="owneranime6.gif";//ï¿½Ã—{
		ownimg7=new Image(40,40);ownimg7.src="owneranime7.gif";//ï¿½oï¿½ï¿½
		ownimg8=new Image(40,40);ownimg8.src="owneranime8.gif";//ï¿½ï¿½
		
		//ï¿½Ø”\ï¿½Í‚Ìƒï¿½ï¿½[ï¿½h
		for(i=0;i<12;i++){
			name[i]=parent.main.butaname[parent.main.entrynum[i]];
			speed[i]=eval(parent.main.butapow[parent.main.entrynum[i]].substring(0,2));
			stamina[i]=eval(parent.main.butapow[parent.main.entrynum[i]].substring(2,4));
			tobidasi[i]=eval(parent.main.butapow[parent.main.entrynum[i]].substring(4,6));
			kisyo[i]=eval(parent.main.butapow[parent.main.entrynum[i]].substring(6,8));
			seriai[i]=eval(parent.main.butapow[parent.main.entrynum[i]].substring(8,10));
			jump[i]=eval(parent.main.butapow[parent.main.entrynum[i]].substring(10,12));
			koten[i]=eval(parent.main.butapow[parent.main.entrynum[i]].substring(12,14));			pace[i]=eval(parent.main.butapow[parent.main.entrynum[i]].substring(14,15));
		}
		
		//ï¿½Iï¿½bï¿½Yï¿½Ì‰ï¿½ï¿½Z
		//ï¿½ï¿½ï¿½Òwï¿½ï¿½ï¿½ï¿½(ï¿½Xï¿½sï¿½[ï¿½h-50)^2ï¿½{(ï¿½Xï¿½^ï¿½~ï¿½i-50*ï¿½ï¿½ï¿½ï¿½/2)^1ï¿½{ï¿½ï¿½ï¿½H*ï¿½rï¿½V
		kitaitotal=0;
		for(i=0;i<12;i++){
			kitai[i]=Math.pow(Math.max(speed[i]-50,0),2)+Math.max((stamina[i]-50),0)*parent.main.r_kyori[parent.main.nowrace]/2+koten[i]*parent.main.koten;
			kitaitotal+=kitai[i];
		}
		
		for(i=0;i<12;i++){
			//ï¿½Iï¿½bï¿½Yï¿½ÌŒï¿½ï¿½ï¿½
			win[i]=Math.max(Math.floor((kitaitotal/kitai[i])*10)/10,1);
			if(win[i]%1==0) win[i]+=0.1;
		}
		//ï¿½lï¿½Cï¿½ï¿½ï¿½\ï¿½[ï¿½g
		var d=0;
		var c=new Array(12);
		for(i=0;i<12;i++){b[i]=i+1;c[i]=i+1;}
		for(i=0;i<11;i++){
			for(j=0;j<12;j++){
				if(kitai[j]<kitai[j+1]){
					d=c[j];c[j]=c[j+1];c[j+1]=d;
					d=kitai[j];kitai[j]=kitai[j+1];kitai[j+1]=d;
				}
			}
		}
		for(i=0;i<12;i++){
			b[c[i]-1]=i+1;
		}
		//ï¿½ï¿½ï¿½Òwï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½É–ß‚ï¿½
		for(i=0;i<12;i++){
			kitai[i]=Math.pow(Math.max(speed[i]-50,0),2)+Math.max((stamina[i]-50),0)*parent.main.r_kyori[parent.main.nowrace]/2+koten[i]*parent.main.koten;
		}
		
		
		selectpig(0);
		
		
	}
	else{
		//alert("ï¿½uï¿½Í‚ï¿½ï¿½ß‚ï¿½ï¿½ï¿½vï¿½uï¿½Â‚Ã‚ï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½bï¿½Nï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½");
		//location.href="main.html";
	}
}


function selectpig(n){
if(parent.main && parent.main.nowrace>-1){
	clearInterval(timeId);
		selectn=n;
	if(parent.main.nowmode=="race"){//ï¿½pï¿½hï¿½bï¿½N
		mescount=0;
		
		document.padoform.ninki.value=(n+1)+" : "+name[n]+" ï¿½Pï¿½ï¿½"+win[n]+" ("+b[n]+"ï¿½Ôlï¿½C)";
		//ï¿½Ø•\ï¿½ï¿½
		var cond=parent.main.condition[n];
		
		if(cond<0.9 || (cond>1.1 && kisyo[n]>40)) document.images[2].src=ownimg4.src;
		else{if(cond<0.95) document.images[2].src=ownimg3.src;
		else{if(cond<1.05) document.images[2].src=ownimg2.src;
		else{ document.images[2].src=ownimg1.src;
		}}}
		
		//ï¿½Rï¿½ï¿½ï¿½ï¿½ï¿½g
		document.padoform.kaisetu.value="";
				
		//ï¿½ï¿½ï¿½qï¿½É‚Â‚ï¿½ï¿½ï¿½
		if(cond<0.9 || (cond>1.1 && kisyo[n]>40)){
			document.padoform.kaisetu.value+="ï¿½@ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ‚¤ï¿½Å‚ï¿½ï¿½ËB";
			if(cond>1.1) document.padoform.kaisetu.value+="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½Cï¿½É‚È‚ï¿½Ü‚ï¿½ï¿½B";
			else document.padoform.kaisetu.value+="ï¿½ï¿½ï¿½Ì‚Ü‚Ü‚ï¿½ï¿½ï¿½ï¿½Æ‘ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½é‚©ï¿½Sï¿½zï¿½Å‚ï¿½ï¿½B";
		}
		else{if(cond<0.95) document.padoform.kaisetu.value+="ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½Cï¿½É‚È‚ï¿½Ü‚ï¿½ï¿½ËBï¿½ï¿½ê‚ªï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Ì‚Å‚ï¿½ï¿½å‚¤ï¿½ï¿½ï¿½B";
		else{if(cond<1) document.padoform.kaisetu.value+="ï¿½ï¿½Dï¿½ï¿½ï¿½Æ‚Ü‚Å‚Ísï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ñ‚ªAï¿½Æ‚ï¿½ï¿½É–ï¿½ï¿½_ï¿½ÍŒï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B";
		else{if(cond<1.05) document.padoform.kaisetu.value+="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è‚µï¿½Ä‚ï¿½ï¿½ÄAï¿½Ü‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚æ‚¤ï¿½Å‚ï¿½ï¿½ËB";
		else{if(cond<1.1) document.padoform.kaisetu.value+="ï¿½È‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Édï¿½ã‚ªï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½Ò‚Å‚ï¿½ï¿½ï¿½Ì‚Å‚Í‚È‚ï¿½ï¿½Å‚ï¿½ï¿½å‚¤ï¿½ï¿½ï¿½B";
		else document.padoform.kaisetu.value+="ï¿½ï¿½ï¿½Î‚ç‚µï¿½ï¿½ï¿½dï¿½ã‚ªï¿½ï¿½Å‚ï¿½ï¿½Bï¿½ï¿½ï¿½ÍˆÈï¿½Ì‚ï¿½ï¿½Ì‚ï¿½ï¿½oï¿½é‚©ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B";
		}}}}
		
		//ï¿½Cï¿½ï¿½ï¿½Aï¿½Xï¿½^ï¿½~ï¿½iï¿½É‚Â‚ï¿½ï¿½ï¿½
		//ï¿½lï¿½Cï¿½É‚Â‚ï¿½ï¿½ï¿½
			if(b[n]>9){
				if(cond>1) document.padoform.kaisetu.value+="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½A";
				document.padoform.kaisetu.value+="ï¿½ï¿½ï¿½Ìƒï¿½ï¿½ï¿½ï¿½oï¿½[ï¿½Å‚Í‹ê‚µï¿½ï¿½ï¿½Å‚ï¿½ï¿½å‚¤ï¿½B";
			}
		timeId=setInterval("meschange()",500);
	}
	else{//ï¿½qï¿½ï¿½
		document.padoform.ninki.value=n+1;
		document.padoform.kaisetu.value="";
		if(parent.main.ownertype[n]==0){
			document.padoform.ninki.value+=" : ï¿½ï¿½";
			document.padoform.kaisetu.value="ï¿½ï¿½ï¿½ÌƒXï¿½yï¿½[ï¿½Xï¿½Í‹ó‚¢‚Ä‚ï¿½ï¿½ï¿½Ì‚Å“Ø‚ï¿½ï¿½ï¿½ï¿½é‚±ï¿½Æ‚ï¿½ï¿½oï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B";
			document.images[2].src=ownimg8.src;
		}
		else{
			document.padoform.ninki.value+=" : "+parent.main.ownerpig[n];
			document.padoform.ninki.value+="ï¿½i"+butatype[parent.main.ownertype[n]]+"ï¿½j";
			if(parent.main.ownertype[n]>2){//grade
				var earnmoney=eval(parent.main.ownerwin[n].substring(0,2))*10000+eval(parent.main.ownerwin[n].substring(2,4))*100+eval(parent.main.ownerwin[n].substring(4,6));
				if(earnmoney>=1000) document.padoform.ninki.value+=" G1";
				else{
					if(earnmoney>=400) document.padoform.ninki.value+=" G2";
					else document.padoform.ninki.value+=" G3";
				}
			}
			
			//ï¿½Ø•\ï¿½ï¿½
			if(eval(parent.main.ownerwin[n].substring(12,13))>0){//ï¿½Ã—{ï¿½ï¿½
				document.images[2].src=ownimg6.src;
				document.padoform.kaisetu.value="ï¿½ï¿½ï¿½İ—Ã—{ï¿½ï¿½ï¿½Å‚ï¿½ï¿½Bï¿½ï¿½ï¿½Ì“Ø‚Éwï¿½ï¿½ï¿½ï¿½^ï¿½ï¿½ï¿½é‚±ï¿½Æ‚Í‚Å‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B";
			}
			else{
				if(parent.main.butaname[100+n]!=999){
					document.images[2].src=ownimg7.src;
					if(isNaN(parent.main.butaname[100+n])) document.padoform.kaisetu.value="ï¿½ï¿½ï¿½İoï¿½ï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B";
					else document.padoform.kaisetu.value=document.padoform.kaisetu.value=parent.main.r_name[parent.main.butaname[100+n]]+"ï¿½Éoï¿½ï¿½ï¿½\ï¿½ï¿½Ì‚ï¿½ï¿½ß’ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½Bï¿½ï¿½ï¿½Ì“Ø‚Éwï¿½ï¿½ï¿½ï¿½^ï¿½ï¿½ï¿½é‚±ï¿½Æ‚Í‚Å‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B";
				}
				else{//ï¿½fï¿½tï¿½Hï¿½ï¿½ï¿½g
					tairyoku=eval(parent.main.ownerpow[n].charAt(15))*100+eval(parent.main.ownerpow[n].substring(16,18));
					yaruki=eval(parent.main.ownerpow[n].substring(18,20));
					rouka=eval(parent.main.ownerpow[n].charAt(20))*100+eval(parent.main.ownerpow[n].substring(21,23));
					
					if(parent.main.ownertype[n]<3) document.images[2].src=ownimg2.src;
					else{
						if(yaruki<40) document.images[2].src=ownimg4.src;
						else{if(yaruki<60 || tairyoku<50) document.images[2].src=ownimg3.src;
						else{if(yaruki<80 || tairyoku<80) document.images[2].src=ownimg2.src;
						else document.images[2].src=ownimg1.src;
						}}
					}
					
					if(parent.main.ownertype[n]<3) document.padoform.kaisetu.value="ï¿½eï¿½Ø‚Å‚ï¿½ï¿½Bï¿½ï¿½ï¿½Ì“Ø‚Ö‚Ìwï¿½ï¿½ï¿½ÍAï¿½ï¿½ï¿½Yï¿½Æ—Ã—{ï¿½Ì‚İ‰Â”\ï¿½Å‚ï¿½ï¿½B";
					else{if(rouka>150) document.padoform.kaisetu.value="ï¿½Øï¿½ï¿½gï¿½ï¿½ï¿½Ì—Í‚ÌŒï¿½ï¿½Eï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½æ‚¤ï¿½Å‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ş‚ï¿½ï¿½Ü‚ï¿½ï¿½å‚¤ï¿½B";
					else{if(rouka>125) document.padoform.kaisetu.value="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½~ï¿½Ü‚ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½ËBï¿½ï¿½ï¿½Ş‚ï¿½ï¿½lï¿½ï¿½ï¿½ï¿½ï¿½Ù‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½B";
					else{if(yaruki<35) document.padoform.kaisetu.value="ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½Â‚Å‹@ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½Ü‚ï¿½ï¿½å‚¤ï¿½B";
					else{if(tairyoku<45) document.padoform.kaisetu.value="ï¿½Ì—Í‚ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½È‚ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½ï¿½xï¿½Ü‚ï¿½ï¿½ï¿½ï¿½Ù‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ËB";
					else{if(tairyoku>135) document.padoform.kaisetu.value="ï¿½ï¿½ï¿½ï¿½Â‚ÌHï¿½×‚ï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½Æ‹ê‚µï¿½ï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ËBï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ—Ç‚ï¿½ï¿½Å‚ï¿½ï¿½å‚¤ï¿½B";
					else document.padoform.kaisetu.value="ï¿½ï¿½ï¿½É–ï¿½ï¿½Í‚ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½Bï¿½Ç‚ï¿½Ç‚ï¿½ï¿½Ä‚Ü‚ï¿½ï¿½å‚¤ï¿½B";
					}}}}}
				}
			}
		}
	}
}//if(parent.main)
}

function meschange(){
	mescount++;
	if(mescount%28==0 || mescount%28==8 || mescount%28==18) document.padoform.ninki.value="";
	if(mescount%28==1) document.padoform.ninki.value=(selectn+1)+" : "+name[selectn]+" ï¿½Pï¿½ï¿½"+win[selectn]+" ("+b[selectn]+"ï¿½Ôlï¿½C)";
	if(mescount%28==9){
		if(parent.main.history[parent.main.entrynum[selectn]]=="ï¿½|ï¿½|ï¿½|")
			document.padoform.ninki.value="ï¿½Oï¿½ï¿½ : ï¿½È‚ï¿½";
		else{
			padohis=parent.main.history[parent.main.entrynum[selectn]].split("_");
			document.padoform.ninki.value="ï¿½Oï¿½ï¿½ : G"+Math.max(parent.main.r_grade[padohis[0]]-4,1)+" "+parent.main.course_list[parent.main.r_course[padohis[0]]%10]+"ï¿½E"+parent.main.r_name[padohis[0]].substring(0,3)+" "+parent.main.r_kyori[padohis[0]]+"m "+condition[padohis[1]]+" "+padohis[3]+"ï¿½Ôlï¿½Cï¿½E"+padohis[2]+"ï¿½ï¿½";
		}
	}
	if(mescount%28==19){
		if(parent.main.history[parent.main.entrynum[selectn]+112]=="ï¿½|ï¿½|ï¿½|")
			document.padoform.ninki.value="ï¿½Oï¿½Xï¿½ï¿½ : ï¿½È‚ï¿½";
		else{
			padohis=parent.main.history[parent.main.entrynum[selectn]+112].split("_");
			document.padoform.ninki.value="ï¿½Oï¿½Xï¿½ï¿½ : G"+Math.max(parent.main.r_grade[padohis[0]]-4,1)+" "+parent.main.course_list[parent.main.r_course[padohis[0]]%10]+"ï¿½E"+parent.main.r_name[padohis[0]].substring(0,3)+" "+parent.main.r_kyori[padohis[0]]+"m "+condition[padohis[1]]+" "+padohis[3]+"ï¿½Ôlï¿½Cï¿½E"+padohis[2]+"ï¿½ï¿½";
		}
	}
}


var buta_condition=new Array(12);
var course_layout=new Array(0,0,2,2,0,4,0,0,3,3,0,4,2,2,1,1,2,2,0,0,1,1,0,4,1,1,3,3,1,1,2,2,3,3,2,2,1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,0,0,0,0,0,4);//ï¿½ï¿½ï¿½ï¿½ï¿½Ê”nï¿½ï¿½ ï¿½ÅAï¿½_ï¿½Aï¿½ÎAï¿½Dï¿½Aï¿½ï¿½
var running_course=0;
var nowrace_kyori=0;
var syougai_check=0;
var nowrace_koten=0;
var nowrace_grade=0;

var jikkyouflag=true;//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½ï¿½H

function gorace(){
	clearInterval(timeId);
	if((parent.main.nowrace+1)%13==0){//5ï¿½Tï¿½Ú‚Ìï¿½ï¿½ï¿½
		month=Math.floor((parent.main.nowrace+1)/13)*3;
		week=5;
	}
	else{
		month=Math.floor(parent.main.nowrace/13)*3+Math.floor(parent.main.nowrace%13/4)+1;
		week=Math.floor(parent.main.nowrace%13%4)+1;
	}
	for(i=0;i<12;i++){
		butax[i]=1710-parent.main.r_kyori[parent.main.nowrace]*50;
		butay[i]=i*5+60;
	}
	racecount=0;
	nowrank=0;
	for(i=0;i<12;i++){
		rank[i]=0;
		nocall[i]=true;
		//ï¿½Êƒtï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½É‚ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½Ì“Ç‚İï¿½ï¿½ï¿½
		buta_condition[i]=parent.main.condition[i];
	}
	running_course=(parent.main.r_course[parent.main.nowrace]%10)*6;
	nowrace_kyori=parent.main.r_kyori[parent.main.nowrace]*50;
	syougai_check=parent.main.r_course[parent.main.nowrace];
	nowrace_koten=parent.main.koten;
	nowrace_grade=parent.main.r_grade[parent.main.nowrace];
	jikkyouflag=true;
	jikkyoustep=0;
	
	tobidashi_check=0;
	timeId=setInterval("racemain()",100);
}

var month=0;
var week=0;
var goaltime=new Array(12);

function racemain(){
	racecount++;
	if(racecount==30){
		//ï¿½Xï¿½^ï¿½[ï¿½g
		for(i=0;i<12;i++){
			a=tobidasi[i]+Math.random()*100-50;
			if(a>0 && a<50) butax[i]+=15;
			if(a>=50){
				butax[i]+=25+Math.floor(Math.random()*10);//ï¿½ï¿½Ñoï¿½ï¿½
				tobidashi_check+=100;
			}
			if(a<=0) tobidashi_check++;//ï¿½oï¿½xï¿½ï¿½
			if(butax[i]>1500 && course_layout[running_course+5]==4)//ï¿½ï¿½Ìê‡
				butay[i]=i*5+60-Math.floor((butax[i]-1500)/10);
			moveLAYER("buta"+(i+1),butax[i],butay[i]);
		}
		if(jikkyouflag){
			outputLAYER("racetitle","");
			moveLAYER("racetitle",0,0);
			for(i=0;i<4;i++) moveLAYER("w"+i,-1000,0);
			if(tobidashi_check/100+tobidashi_check%100>6)
				msg="ï¿½Î‚ç‚¯ï¿½ï¿½ï¿½Xï¿½^ï¿½[ï¿½gï¿½É‚È‚ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½B";
			else{if(tobidashi_check%100>3) msg="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Xï¿½^ï¿½[ï¿½gï¿½xï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½B";
			else{if(tobidashi_check/100>3) msg="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½Ñoï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½B";
			else{if(tobidashi_check/100+tobidashi_check%100>2)
				msg="ï¿½eï¿½Ø‚Ü‚ï¿½ï¿½Ü‚ï¿½ï¿½ÌƒXï¿½^ï¿½[ï¿½gï¿½Å‚ï¿½ï¿½B";
			else{if(tobidashi_check%100>0) msg="ï¿½ê“ªï¿½ï¿½ï¿½ï¿½ï¿½oï¿½xï¿½ê‚½ï¿½ï¿½ï¿½æ‚¤ï¿½Å‚ï¿½ï¿½B";
			else msg="ï¿½eï¿½Øoï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ê‚¢ï¿½ÈƒXï¿½^ï¿½[ï¿½gï¿½Å‚ï¿½ï¿½B";
			}}}}
			outputjikkyou("ï¿½Xï¿½^ï¿½[ï¿½gï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½I<br>"+msg);
		}
	}
	if(racecount>30){
		if(nowrank>11) endrace();//ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		for(i=0;i<12;i++){
			if(butax[i]>1710){//ï¿½Sï¿½[ï¿½ï¿½
				if(rank[i]==0){
					goaltime[nowrank]=racecount;
					nowrank++;
					rank[i]=nowrank;
				}
				butax[i]+=10;
				//butax[i]=Math.min(butax[i]+10,1760);
			}
			else{
				nowbaba=course_layout[running_course+Math.floor(butax[i]/300)];
				//ï¿½Xï¿½sï¿½[ï¿½hï¿½~ï¿½Xï¿½^ï¿½~ï¿½iï¿½â³
				basespeed=speed[i]-(racecount-30)*(100-stamina[i])/250;
				//ï¿½ï¿½ï¿½qï¿½â³
				basespeed=buta_condition[i]*basespeed;
				//ï¿½rï¿½Vï¿½â³ï¿½Eï¿½ï¿½â³
				switch(nowbaba){
					case 4://ï¿½Åï¿½
						basespeed-=(racecount-30)*(100-stamina[i])/250;
					case 0://ï¿½ï¿½
						if(nowrace_koten==1) basespeed-=(100-koten[i])/100;
						if(nowrace_koten==2) basespeed-=(100-koten[i])/50;
						if(nowrace_koten==3) basespeed-=(100-koten[i])/30;
						break;
					case 1://ï¿½_
						if(nowrace_koten==0) basespeed-=(100-koten[i])/100;
						if(nowrace_koten==1) basespeed-=(100-koten[i])/50;
						if(nowrace_koten==2) basespeed-=(100-koten[i])/30;
						if(nowrace_koten==3) basespeed-=(100-koten[i])/20;
						break;
					case 2://ï¿½ï¿½
						if(nowrace_koten>1) basespeed-=(100-koten[i])/100;
						break;
					case 3://ï¿½D
						if(nowrace_koten==0) basespeed-=(100-koten[i])/50;
						if(nowrace_koten==1) basespeed-=(100-koten[i])/30;
						if(nowrace_koten>=2) basespeed-=(100-koten[i])/20;
						break;
					default:
						break;
				}
				//ï¿½rï¿½ï¿½ï¿½â³
				sinkoudo=(butax[i]-(1710-nowrace_kyori))/nowrace_kyori;
				if(pace[i]==1){//ï¿½ï¿½
					if(sinkoudo<0.3) basespeed=basespeed*0.8
					else{
						if(sinkoudo<0.7) basespeed=basespeed*0.2
						else basespeed=basespeed*0.3
					}
				}
				if(pace[i]==2){//ï¿½ï¿½
					if(sinkoudo<0.3) basespeed=basespeed*0.6
					else{
						if(sinkoudo<0.7) basespeed=basespeed*0.4
						else basespeed=basespeed*0.3
					}
				}
				if(pace[i]==3){//ï¿½ï¿½
					if(sinkoudo<0.3) basespeed=basespeed*0.4
					else{
						if(sinkoudo<0.7) basespeed=basespeed*0.6
						else basespeed=basespeed*0.3
					}
				}
				if(pace[i]==4){//ï¿½ï¿½
					if(sinkoudo<0.3) basespeed=basespeed*0.2
					else{
						if(sinkoudo<0.7) basespeed=basespeed*0.8
						else basespeed=basespeed*0.3
					}
				}
				
				//ï¿½ï¿½Qï¿½Ìê‡
				if(syougai_check>9 && butax[i]<=1500 && butax[i]>=770){
					basespeed=basespeed*(jump[i]/100);
					if((butax[i]-770)%140<40) butay[i]=i*5+50;
					else butay[i]=i*5+60;
				}
				else butay[i]=i*5+60;//ï¿½ï¿½ï¿½Ì‘ï¿½
				
				butaup=Math.max(Math.floor(Math.random()*(5+kisyo[i]*1.3)/5-(5+kisyo[i]*1.3)/10+basespeed/10),0);
				//status=butaup;
				if(sinkoudo>=0.3 && sinkoudo<0.7 && butaup>5) butaup=5;
				else{
					if(butaup>8) butaup=8;
				}
				
				butax[i]+=5+butaup;
				
				//ï¿½ï¿½ï¿½è‡ï¿½ï¿½ï¿½`ï¿½Fï¿½bï¿½N
				for(j=0;j<12;j++){
					if(j!=i && butax[i]==butax[j] && sinkoudo>0.6 && seriai[i]>seriai[j])
					butax[i]+=5;
				}
			}
			
			if(butax[i]>1500 && course_layout[running_course+5]==4)
				butay[i]=i*5+60-Math.floor((Math.min(butax[i],1710)-1500)/10);//ï¿½ï¿½Ìê‡
			
			moveLAYER("buta"+(i+1),Math.min(butax[i],1760),butay[i]);
		}
		//ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½Ú“ï¿½
		if(racecount%20==0){
			var buta_worst=1800;
			for(i=0;i<12;i++){
				if(butax[i]<buta_worst) buta_worst=butax[i];
			}
			scroll(buta_worst,0);
		}
		
		//ï¿½ï¿½ï¿½ï¿½ Max18ï¿½ñ‚­‚ç‚¢
		if(nowrank<12 && racecount%15==0 && jikkyoustep<5){
			msg="";
			if(nowrank>0 && jikkyoustep<5){
				for(i=0;i<12;i++) nocall[i]=true;
				p=gettop();
				maepig=p;
				p=gettop();
				if(butax[maepig]-butax[p]>20) msg+=name[maepig]+"ï¿½Aï¿½Pï¿½ï¿½ï¿½ï¿½";
				else msg+="ï¿½ï¿½ï¿½ï¿½ï¿½";
				msg+="ï¿½Sï¿½[ï¿½ï¿½ï¿½Cï¿½ï¿½ï¿½I";
				if(nowrace_grade<6 && butax[maepig]-butax[p]>20)
					msg+="<br>"+name[maepig]+"G1ï¿½ğ§‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½B";
				else{
					if(b[maepig]>8) msg+="<br>ï¿½lï¿½Cï¿½ï¿½ï¿½Ì“Ø‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½ï¿½Bï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ß‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B";
				}
				jikkyoustep=5;
			}
			else{
				p=gettop();
				if(racecount==45){
					msg="ï¿½Ü‚ï¿½ï¿½Íæ“ªï¿½ï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½A"+(p+1)+"ï¿½ï¿½<br>"+name[p]+"ï¿½ï¿½ï¿½Oï¿½Éoï¿½Ü‚ï¿½ï¿½ï¿½ï¿½B";
					maepig=p;
				}
				else{
					//ï¿½cï¿½è‹—ï¿½ï¿½ï¿½`ï¿½Fï¿½bï¿½N
					nokori=0;
					for(i=0;i<12;i++){
						if(butax[i]>nokori) nokori=butax[i];
					}
					nokori=1710-nokori;//50pix ï¿½Å‚Pï¿½ï¿½
					
					if(nokori<200){
						if(jikkyoustep<4){
							msg="ï¿½cï¿½ï¿½Sï¿½ï¿½ï¿½ï¿½Ø‚ï¿½ï¿½ï¿½ï¿½B<br>";
							if(week==5) msg+="ï¿½ï¿½ï¿½æ‚¢ï¿½æ¢ï¿½Eï¿½ê‚ªï¿½ï¿½ï¿½Ü‚ï¿½Ü‚ï¿½ï¿½B";//ï¿½Cï¿½O
							else{
								for(i=0;i<12;i++) nocall[i]=true;
								p=gettop();
								maepig=p;
								p=gettop();
								if(butax[maepig]-butax[p]>40)
									msg+=name[maepig]+"ï¿½ï¿½ï¿½ñ‚®‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½";
								else msg+=name[p]+"ï¿½ï¿½ï¿½ï¿½ï¿½Éï¿½ï¿½ï¿½ï¿½lï¿½ß‚ï¿½";
								msg+="ï¿½B";
							}
							jikkyoustep=4;
						}
						else{
							p=gettop();
							if(butax[maepig]-butax[p]>50)
								msg+=(maepig+1)+"ï¿½ï¿½"+name[maepig]+"ï¿½A<br>ï¿½Æ‘ï¿½ï¿½ï¿½Ô‚ï¿½";
							else{
								if(Math.random()<0.5) msg+=(maepig+1)+"ï¿½ï¿½"+name[maepig]+"ï¿½ï¿½ï¿½æ“ªï¿½ï¿½";
								else msg+="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½"+(p+1)+"ï¿½ï¿½"+name[p]+"ï¿½ï¿½<br>ï¿½Ç‚ï¿½ï¿½ã‚°ï¿½ï¿½";
							}
							msg+="ï¿½B";
						}
					}
					else{
						if(nokori<400 && jikkyoustep<3){
							msg="ï¿½cï¿½ï¿½Wï¿½ï¿½ï¿½Ì•Wï¿½ï¿½ï¿½ï¿½Ê‰ßB";
							for(i=0;i<12;i++) nocall[i]=true;
							p=gettop();
							msg+="<br>ï¿½æ“ªï¿½ï¿½"+(p+1)+"ï¿½ÔA"+name[p];
							maepig=p;
							p=gettop();
							if(butax[maepig]-butax[p]>40) msg+="ï¿½å‚«ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½hï¿½I";
							else{
								if(butax[maepig]-butax[p]<10) msg+="ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½"+name[p];
								msg+="ï¿½B";
							}
							maepig=p;
							jikkyoustep=3;
						}
						else{
							if(nokori>900 && nokori<1100 && syougai_check>9 && jikkyoustep<1){
							 	msg="ï¿½eï¿½ØÅï¿½ï¿½Ìï¿½Qï¿½É“ï¿½ï¿½ë‚¤ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½B";
							 	jikkyoustep=1;
							}
							else{
								if(nokori>400 && nokori<500 && nowrace_kyori/50>20 && jikkyoustep<2){
									toprank=0;
									for(i=0;i<12;i++){
										if(b[i]==1) topninki=i;
									}
									for(i=0;i<12;i++){
										if(butax[topninki]<=butax[i]) toprank++;
									}
									msg="ï¿½Pï¿½Ôlï¿½Cï¿½ï¿½"+(topninki+1)+"ï¿½ï¿½<br>"+name[topninki];
									msg+="ï¿½ï¿½";
									
									if(toprank==1) msg+="ï¿½ï¿½ï¿½İæ“ªï¿½B";
									else{if(toprank<4) msg+="ï¿½æ“ªï¿½Wï¿½cï¿½ï¿½ï¿½Lï¿½[ï¿½vï¿½B";
									else{if(toprank<8) msg+="ï¿½ï¿½ï¿½Õ‚Ù‚Ç‚É\ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½B";
									else{if(toprank<11) msg+="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½lï¿½qï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½B";
									else msg+="ï¿½ÅŒï¿½ï¿½ï¿½B";
									}}}
									jikkyoustep=2;
								}
								else{
									//ï¿½ï¿½ï¿½ï¿½ï¿½ÅŒï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
									msg="";
									if(Math.random()<0.5) msg+="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½";
									if(Math.random()<0.5) msg+="ï¿½ï¿½ï¿½ï¿½";
									if(maepig>p) msg+="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½A";
									else msg+="ï¿½Oï¿½ï¿½ï¿½ï¿½A";
									if(butax[maepig]-butax[p]>30){
										if(Math.random()<0.5) msg+="ï¿½ï¿½â—£ï¿½ï¿½ï¿½";
										else msg+=Math.floor((butax[maepig]-butax[p])/30)+"ï¿½Øgï¿½ï¿½ï¿½ï¿½ï¿½";
									}
									else{
										if(butax[maepig]-butax[p]>0 && butax[maepig]-butax[p]<30){
											if(Math.random()<0.5) msg+="ï¿½ï¿½ï¿½ï¿½ï¿½";
											else msg+="ï¿½Ç‚ï¿½ï¿½Ì‚ï¿½";
										}
									}
									msg+=(p+1)+"ï¿½ÔA<br>"+name[p];
									if(butax[maepig]-butax[p]<-20){
										if(Math.random()<0.5) msg+="ï¿½ï¿½ï¿½Oï¿½Éoï¿½ï¿½";
										else msg+="ï¿½ï¿½ï¿½dï¿½|ï¿½ï¿½ï¿½ï¿½";
									}
									else{
										if(Math.random()<0.5) msg+="ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½";
									}
									msg+="ï¿½B";
									maepig=p;
								}
							}
						}
					}
				}
			}
			outputjikkyou(msg);
		}
	}
}

function gettop(){
	topnum=0;
	topx=0;
	for(i=0;i<12;i++){
		if(topx<butax[i] && nocall[i]){
			topnum=i;
			topx=butax[topnum];
		}
	}
	nocall[topnum]=false;
	return topnum;
}

function endrace(){
	clearInterval(timeId);
	//ï¿½ï¿½ï¿½Êƒ`ï¿½Fï¿½bï¿½N
	var topfive=new Array(5);
	for(i=0;i<5;i++){
		for(j=0;j<12;j++){
			if(rank[j]==i+1) topfive[i]=j;
		}
	}
	
	var topfive_num=new Array("I","II","III","IV","V");
	msg="<table border=5><tr><td bgcolor=484448><table border=0 cellpadding=0 cellspacing=0><tr><td align=right colspan=3><font color=orange>ï¿½m</font></td></tr>";
	for(i=0;i<5;i++){
		msg+="<tr><td align=center bgcolor=109CFF><font color=white>"+topfive_num[i]+"</font></td><td align=right><font color=orange>"+(topfive[i]+1)+"</font></td><td align=right><font color=orange>ï¿½@";
		//ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒï¿½ï¿½ï¿½
		if(i!=0){
			if(goaltime[i]-goaltime[i-1]<2) msg+=" ï¿½nï¿½i";
			else{
				if(goaltime[i]-goaltime[i-1]<4) msg+=" ï¿½ï¿½";
				else{
					if(goaltime[i]-goaltime[i-1]<16){
						msg+=" "+Math.floor((goaltime[i]-goaltime[i-1])/4);
						if((goaltime[i]-goaltime[i-1])%4!=0)
							if((goaltime[i]-goaltime[i-1])%4==2)
								msg+=" 1/2";
							else msg+=" "+((goaltime[i]-goaltime[i-1])%4)+"/4";
						}
					else msg+=" ï¿½å·";
				}
			}
		}
		msg+="</font></td></tr>";
	}
	msg+="<tr><td colspan=2><font size=-1 color=white>ï¿½^ï¿½Cï¿½ï¿½<br>ï¿½Rï¿½[ï¿½X</font></td><td><font size=-1 color=orange>"+(racecount-30)/10;
	if((racecount-30)/10%1==0) msg+=".0"
	msg+="<br>"+condition[parent.main.koten]+"</font></td></tr></table></td>";
	var myget=0;//ï¿½lï¿½ï¿½ï¿½zï¿½ï¿½ï¿½ï¿½
	var winner=0;//ï¿½Iï¿½ï¿½ï¿½ØŒï¿½ï¿½ï¿½ï¿½ï¿½
	//ï¿½Pï¿½ï¿½ï¿½ÌŒï¿½ï¿½ï¿½
	winner=parent.main.bet_form[topfive[0]];
	odds=kitaitotal/kitai[topfive[0]];
	if(winner>100) odds-=odds*Math.sqrt(winner)/1000;//ï¿½Iï¿½bï¿½Yï¿½Ï“ï¿½
	odds=Math.max(Math.floor(odds*10)/10,1);
	if(odds%1==0) odds+=0.1;
	msg+="<td bgcolor=484448><table border=0 cellspacing=0><tr><td colspan=2 bgcolor=FFACB0>ï¿½Pï¿½ï¿½ï¿½F("+(topfive[0]+1)+") "+odds+"</td></tr><tr><td colspan=2 bgcolor=C0BCFF>ï¿½gï¿½Aï¿½F";
	myget+=Math.floor(winner*odds);
	//ï¿½gï¿½Aï¿½ÌŒï¿½ï¿½ï¿½
	haitou_a=Math.floor(topfive[0]/2);
	haitou_b=Math.floor(topfive[1]/2);
	if(haitou_a==haitou_b) odds=(kitaitotal*kitaitotal)/(kitai[topfive[0]]*kitai[topfive[1]]*5);
	else odds=(kitaitotal*kitaitotal)/((kitai[haitou_a*2]+kitai[haitou_a*2+1])*(kitai[haitou_b*2]+kitai[haitou_b*2+1])*5);
	if(haitou_a>haitou_b){swapdata=haitou_a;haitou_a=haitou_b;haitou_b=swapdata;}
	haitou=0;
	for(i=0;i<haitou_a;i++) haitou+=5-i;
	haitou+=haitou_b;
	
	winner=parent.main.bet_form[haitou+24];
	if(winner>100) odds-=odds*Math.sqrt(winner)/1000;//ï¿½Iï¿½bï¿½Yï¿½Ï“ï¿½
	odds=Math.max(Math.floor(odds*10)/10,1);
	if(odds%1==0) odds+=0.1;
	myget+=Math.floor(winner*odds);
	msg+="["+(haitou_a+1)+"]-["+(haitou_b+1)+"] "+odds+"</td></tr><tr><td colspan=2 bgcolor=B0FFB0>ï¿½Ø˜Aï¿½F";
	
	//ï¿½Ø˜Aï¿½ÌŒï¿½ï¿½ï¿½
	haitou_a=topfive[0];
	haitou_b=topfive[1];
	odds=(kitaitotal*kitaitotal)/(kitai[topfive[0]]*kitai[topfive[1]]*5);
	if(haitou_a>haitou_b){swapdata=haitou_a;haitou_a=haitou_b;haitou_b=swapdata;}
	haitou=-1;
	for(i=0;i<haitou_a;i++) haitou+=10-i;
	haitou+=haitou_b;
	
	winner=parent.main.bet_form[haitou+45];
	if(winner>100) odds-=odds*Math.sqrt(winner)/1000;//ï¿½Iï¿½bï¿½Yï¿½Ï“ï¿½
	odds=Math.max(Math.floor(odds*10)/10,1);
	if(odds%1==0) odds+=0.1;
	parent.main.todayqui[parent.main.nowrace]=odds;//ï¿½ï¿½ï¿½ï¿½ï¿½É‹Lï¿½ï¿½
	myget+=Math.floor(winner*odds);
	msg+="("+(haitou_a+1)+")-("+(haitou_b+1)+") "+odds+"</td></tr></td><tr><td bgcolor=FFE058 align=right>ï¿½ï¿½ï¿½ï¿½ï¿½F";
	//ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒï¿½ï¿½ï¿½
	for(i=0;i<3;i++){
		odds=kitaitotal/kitai[topfive[i]];
		odds=odds/3;
		winner=parent.main.bet_form[topfive[i]+12];
		if(winner>100) odds-=odds*Math.sqrt(winner)/1000;//ï¿½Iï¿½bï¿½Yï¿½Ï“ï¿½
		odds=Math.max(Math.floor(odds*10)/10,1);
		if(odds%1==0) odds+=0.1;
		myget+=Math.floor(winner*odds);
		msg+="("+(topfive[i]+1)+") "+odds;
		if(i<2) msg+="<br>";
	}
	msg+="</td><td bgcolor=FFC4FF align=right>ï¿½ï¿½ï¿½Cï¿½hï¿½F";
	//ï¿½ï¿½ï¿½Cï¿½hï¿½ÌŒï¿½ï¿½ï¿½
	haitou_a=topfive[0];
	haitou_b=topfive[1];
	haitou_c=topfive[2];
	if(haitou_a>haitou_b){swapdata=haitou_a;haitou_a=haitou_b;haitou_b=swapdata;}
	if(haitou_b>haitou_c){swapdata=haitou_b;haitou_b=haitou_c;haitou_c=swapdata;}
	if(haitou_a>haitou_b){swapdata=haitou_a;haitou_a=haitou_b;haitou_b=swapdata;}
		odds=(kitaitotal*kitaitotal)/(kitai[haitou_a]*kitai[haitou_b]*5);
		odds=odds/Math.log(odds);
		haitou=-1;
		for(i=0;i<haitou_a;i++) haitou+=10-i;
		haitou+=haitou_b;
		winner=parent.main.bet_form[haitou+111];
		if(winner>100) odds-=odds*Math.sqrt(winner)/1000;//ï¿½Iï¿½bï¿½Yï¿½Ï“ï¿½
		odds=Math.max(Math.floor(odds*10)/10,1);
		if(odds%1==0) odds+=0.1;
		myget+=Math.floor(winner*odds);
	msg+="("+(haitou_a+1)+")-("+(haitou_b+1)+") "+odds+"<br>";
		odds=(kitaitotal*kitaitotal)/(kitai[haitou_a]*kitai[haitou_c]*5);
		odds=odds/Math.log(odds);
		haitou=-1;
		for(i=0;i<haitou_a;i++) haitou+=10-i;
		haitou+=haitou_c;
		winner=parent.main.bet_form[haitou+111];
		if(winner>100) odds-=odds*Math.sqrt(winner)/1000;//ï¿½Iï¿½bï¿½Yï¿½Ï“ï¿½
		odds=Math.max(Math.floor(odds*10)/10,1);
		if(odds%1==0) odds+=0.1;
		myget+=Math.floor(winner*odds);
	msg+="("+(haitou_a+1)+")-("+(haitou_c+1)+") "+odds+"<br>";
		odds=(kitaitotal*kitaitotal)/(kitai[haitou_b]*kitai[haitou_c]*5);
		odds=odds/Math.log(odds);
		haitou=-1;
		for(i=0;i<haitou_b;i++) haitou+=10-i;
		haitou+=haitou_c;
		winner=parent.main.bet_form[haitou+111];
		if(winner>100) odds-=odds*Math.sqrt(winner)/1000;//ï¿½Iï¿½bï¿½Yï¿½Ï“ï¿½
		odds=Math.max(Math.floor(odds*10)/10,1);
		if(odds%1==0) odds+=0.1;
		myget+=Math.floor(winner*odds);
	msg+="("+(haitou_b+1)+")-("+(haitou_c+1)+") "+odds+"</td></tr>";
	msg+="</tr></table>";
	outputLAYER("racetitle",msg);
	moveLAYER("racetitle",1400,0);
	
	//ï¿½ï¿½ï¿½ï¿½ï¿½É‹Lï¿½ï¿½
	parent.main.todaywin[parent.main.nowrace]=name[topfive[0]];
	
	msg="";
	kakutoku=0;//ï¿½Øåƒ‚ï¿½[ï¿½hï¿½lï¿½ï¿½ï¿½Ü‹ï¿½
	totalkakutoku=0;
	kaigaiflag=false;
	for(i=0;i<12;i++){
		if(parent.main.entrynum[i]>99){
			//ï¿½ï¿½ï¿½ï¿½ï¿½Ø‚Ì—ï¿½ï¿½ï¿½ï¿½Xï¿½V iï¿½Íoï¿½ï¿½ï¿½Ôï¿½
		msg+=parent.main.butaname[parent.main.entrynum[i]]+"ï¿½ÍA"+rank[i]+"ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½B\n";
		if(rank[i]==1 && week==5) kaigaiflag=true;
		
		rireki_a=parent.main.ownerwin[parent.main.entrynum[i]-100];
		rireki_b=eval(rireki_a.substring(0,2))*10000+eval(rireki_a.substring(2,4))*100+eval(rireki_a.substring(4,6));
		rireki_c=eval(rireki_a.substring(6,8))+1;
		rireki_d=eval(rireki_a.substring(8,10));
		rireki_e=eval(rireki_a.substring(10,12));
			money=parent.main.award_list[parent.main.r_grade[parent.main.nowrace]];
			if(rank[i]==1){
				rireki_b+=money;
				kakutoku+=money;
				rireki_d++;
				if(parent.main.r_grade[parent.main.nowrace]<6) rireki_e++;
			}
			if(rank[i]==2){
				rireki_b+=money*0.5;
				kakutoku+=money*0.5;
			}
			if(rank[i]==3){
				rireki_b+=money*0.3;
				kakutoku+=money*0.3;
			}
			if(rank[i]==4){
				rireki_b+=money*0.2;
				kakutoku+=money*0.2;
			}
			if(rank[i]==5){
				rireki_b+=money*0.1;
				kakutoku+=money*0.1;
			}
			
			rireki_b="000000"+rireki_b;
			rireki_b=rireki_b.substring(rireki_b.length-6,rireki_b.length);
			rireki_c="00"+rireki_c;
			rireki_c=rireki_c.substring(rireki_c.length-2,rireki_c.length);
			rireki_d="00"+rireki_d;
			rireki_d=rireki_d.substring(rireki_d.length-2,rireki_d.length);
			rireki_e="00"+rireki_e;
			rireki_e=rireki_e.substring(rireki_e.length-2,rireki_e.length);
			
			parent.main.ownerwin[parent.main.entrynum[i]-100]=rireki_b+""+rireki_c+""+rireki_d+""+rireki_e+""+rireki_a.charAt(12);
			//ï¿½ï¿½ï¿½ï¿½ï¿½Ø‚Ì˜Vï¿½ï¿½ï¿½xUPï¿½Aï¿½Ì—Í‹Cï¿½ï¿½ï¿½_ï¿½Eï¿½ï¿½
			parent.main.ownerpowup(parent.main.entrynum[i]-100,0,0,0,0,0,0,0,-15,-15,4,0,0);
			//ï¿½ï¿½Qï¿½ï¿½ï¿½[ï¿½Xï¿½Í˜Vï¿½ï¿½ï¿½x-2
			if(parent.main.r_course[parent.main.nowrace]>9)
				parent.main.ownerpowup(parent.main.entrynum[i]-100,0,0,0,0,0,0,0,5,5,-2,0,0);
			//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½tï¿½ï¿½ï¿½Oï¿½`ï¿½Fï¿½bï¿½N
			if(parent.main.farmevent==0 && eval(rireki_b)==0){
				if(rireki_c>=2 && !parent.main.eventflag[17]) parent.main.farmevent=17;
				if(rireki_c>=3 && !parent.main.eventflag[22]) parent.main.farmevent=22;
				if(rireki_c>=4 && !parent.main.eventflag[18]) parent.main.farmevent=18;
				if(rireki_c>=6 && !parent.main.eventflag[43]) parent.main.farmevent=43;
				if(rireki_c>=8 && !parent.main.eventflag[29]) parent.main.farmevent=29;
				if(rireki_c>=10 && !parent.main.eventflag[45]) parent.main.farmevent=45;
			}
		}
		//ï¿½lï¿½ï¿½ï¿½ï¿½ï¿½Ü‹ï¿½ï¿½Ìƒ`ï¿½Fï¿½bï¿½N
		totalkakutoku+=eval(parent.main.ownerwin[i].substring(0,2))*10000+eval(parent.main.ownerwin[i].substring(2,4))*100+eval(parent.main.ownerwin[i].substring(4,6));

	}
	//ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½tï¿½ï¿½ï¿½Oï¿½`ï¿½Fï¿½bï¿½N
	if(parent.main.farmevent==0){
		if(totalkakutoku>=100 && !parent.main.eventflag[20]) parent.main.farmevent=20;
		if(totalkakutoku>=400 && !parent.main.eventflag[21]) parent.main.farmevent=21;
		if(totalkakutoku>=800 && !parent.main.eventflag[23]) parent.main.farmevent=23;
		if(totalkakutoku>=1500 && !parent.main.eventflag[10]) parent.main.farmevent=10;
		if(totalkakutoku>=3000 && !parent.main.eventflag[41]) parent.main.farmevent=41;
		if(totalkakutoku>=5000 && !parent.main.eventflag[51]) parent.main.farmevent=51;
	}
	if(kakutoku>0){
		msg+="\nï¿½ï¿½ï¿½ØÜ‹ï¿½ï¿½F "+kakutoku+" ptsï¿½lï¿½ï¿½ï¿½I";
		if(myget>0) msg+="\n\n";
	}
	if(myget>0) msg+="ï¿½ØŒï¿½ï¿½Iï¿½ï¿½ï¿½I"+myget+"pts ï¿½lï¿½ï¿½ï¿½I";
	if(msg!=""){
		alert(msg);
		parent.main.mymoney+=kakutoku+myget;
	}
	if(kaigaiflag){
		alert("ï¿½Cï¿½OG1ï¿½Dï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ß‚Å‚Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½I");
	}
	//ï¿½ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½Xï¿½ï¿½
	parent.main.outputLAYER("status",'<table border=0><tr><td bgcolor=yellow rowspan=4>ï¿½ï¿½ï¿½[ï¿½Xï¿½ï¿½ï¿½mï¿½è‚µï¿½Ü‚ï¿½ï¿½ï¿½ï¿½B</td><td bgcolor="#ADD8E6">'+parent.main.nowyear+'ï¿½Nï¿½ï¿½ '+month+'ï¿½ï¿½ '+week+'ï¿½Tï¿½@ï¿½@</td></tr><tr><td bgcolor="#FFB6C1">ï¿½@ï¿½@'+parent.main.mymoney+' ptsï¿½@ï¿½@</td></tr><tr><td><a href="JavaScript:nextrace();">ï¿½ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½Xï¿½ï¿½</a></td></tr></table>');
}

function autorun(){
	clearInterval(timeId);
	parent.main.nextrace();
	parent.main.gorace();
}

function outputjikkyou(jikkyoumsg){
	parent.main.outputLAYER("status",'<table border=0><tr><td bgcolor=yellow rowspan=4>'+jikkyoumsg+'</td><td bgcolor="#ADD8E6">'+parent.main.nowyear+'ï¿½Nï¿½ï¿½ '+month+'ï¿½ï¿½ '+week+'ï¿½Tï¿½@ï¿½@</td></tr><tr><td bgcolor="#FFB6C1">ï¿½@ï¿½@'+parent.main.mymoney+' ptsï¿½@ï¿½@</td></tr><tr><td><a href="JavaScript:parent.track.racedash();">ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½h</a></td></tr></table>');
}

function racestop(){
	if(racecount<30) racecount=29;
	clearInterval(timeId);
	jikkyouflag=false;
	for(m=0;m<16;m++){
		racemain();
	}
	for(i=0;i<12;i++) moveLAYER("buta"+(i+1),butax[i],butay[i]);
	scroll(1500,0);
}

function racedash(){
	if(racecount<30) racecount=29;
	clearInterval(timeId);
	timeId=setInterval("racemain()",10);
}

function rireki(){
	for(i=0;i<12;i++){
		parent.main.history[parent.main.entrynum[i]+112]=parent.main.history[parent.main.entrynum[i]];
		parent.main.history[parent.main.entrynum[i]]=parent.main.nowrace+"_"+parent.main.koten+"_"+rank[i]+"_"+b[i];//ï¿½ï¿½ï¿½[ï¿½Xï¿½Ôï¿½ï¿½Aï¿½nï¿½ï¿½Aï¿½ï¿½ï¿½ÊAï¿½lï¿½C
	}
}

</script>
<style type="text/css">
<!--
.buta { position:absolute;
          visibility:visible;
          font-family:Osaka,Arial;
          color:#000088;
          z-index:3;
          top:-1000px}
.kanban { position:absolute;
          visibility:visible;
          font-family:Osaka,Arial;
          color:#000000;
          z-index:2;
          top:-1000px}
.haikei { position:absolute;
          visibility:visible;
          font-family:Osaka,Arial;
          color:#000000;
          z-index:2;
          top:-1000px}

#racetitle {z-index:5}
<!---->
</style>
</head>
<body bgcolor="#00FF80" topmargin=0 marginwidth=0 marginheight=0 leftmargin=0 onLoad="loadfn();">
<center>
<form name="padoform">
<table border=0 cellpadding=0 cellspacing=0>
<tr><td rowspan=2 bgcolor="#C0BCC0" valign=middle><img src="paddock.png"></td>
<td rowspan=2 bgcolor=white><font color=white>*</font></td>
<td align=center bgcolor=white rowspan=2><font size=-1>ï¿½ï¿½ï¿½Ø‘Iï¿½ï¿½</font><br>
<input type=button value="ï¿½@ï¿½P" onClick="selectpig(0)">
<input type=button value="ï¿½@ï¿½Q" onClick="selectpig(1)"><br>
<input type=button value="ï¿½@ï¿½R" onClick="selectpig(2)">
<input type=button value="ï¿½@ï¿½S" onClick="selectpig(3)"><br>
<input type=button value="ï¿½@ï¿½T" onClick="selectpig(4)">
<input type=button value="ï¿½@ï¿½U" onClick="selectpig(5)"><br>
<input type=button value="ï¿½@ï¿½V" onClick="selectpig(6)">
<input type=button value="ï¿½@ï¿½W" onClick="selectpig(7)"><br>
<input type=button value="ï¿½@ï¿½X" onClick="selectpig(8)">
<input type=button value="ï¿½Pï¿½O" onClick="selectpig(9)"><br>
<input type=button value="ï¿½Pï¿½P" onClick="selectpig(10)">
<input type=button value="ï¿½Pï¿½Q" onClick="selectpig(11)"></td>
<td rowspan=2 bgcolor=white><font color=white>*</font></td>
<td align=center><img src="pado_bg.gif"><br>
<img src="owneranime2.gif"></td></tr><tr><td align=center bgcolor=white>
<input type=text size=60 style="color:orange;background-color:000000" name="ninki"><br><img src="kaisetu.gif" alt="ï¿½ï¿½ï¿½ï¿½ï¿½"><textarea cols=40 rows=3 wrap=soft name="kaisetu"></textarea>
</tr></table>
</form></center>

<div class="buta" id="buta1"><img src="buta1.gif"></div>
<div class="buta" id="buta2"><img src="buta2.gif"></div>
<div class="buta" id="buta3"><img src="buta3.gif"></div>
<div class="buta" id="buta4"><img src="buta4.gif"></div>
<div class="buta" id="buta5"><img src="buta5.gif"></div>
<div class="buta" id="buta6"><img src="buta6.gif"></div>
<div class="buta" id="buta7"><img src="buta7.gif"></div>
<div class="buta" id="buta8"><img src="buta8.gif"></div>
<div class="buta" id="buta9"><img src="buta9.gif"></div>
<div class="buta" id="buta10"><img src="buta10.gif"></div>
<div class="buta" id="buta11"><img src="buta11.gif"></div>
<div class="buta" id="buta12"><img src="buta12.gif"></div>


<div class="haikei" id="c00"><img src="c-shiba.gif"></div>
<div class="haikei" id="c01"><img src="c-shiba.gif"></div>
<div class="haikei" id="c02"><img src="c-shiba.gif"></div>
<div class="haikei" id="c03"><img src="c-shiba.gif"></div>
<div class="haikei" id="c04"><img src="c-shiba.gif"></div>
<div class="haikei" id="c05"><img src="c-shiba.gif"></div>
<div class="haikei" id="c10"><img src="c-dirt.gif"></div>
<div class="haikei" id="c11"><img src="c-dirt.gif"></div>
<div class="haikei" id="c12"><img src="c-dirt.gif"></div>
<div class="haikei" id="c13"><img src="c-dirt.gif"></div>
<div class="haikei" id="c14"><img src="c-dirt.gif"></div>
<div class="haikei" id="c15"><img src="c-dirt.gif"></div>
<div class="haikei" id="c20"><img src="c-ishi.gif"></div>
<div class="haikei" id="c21"><img src="c-ishi.gif"></div>
<div class="haikei" id="c22"><img src="c-ishi.gif"></div>
<div class="haikei" id="c23"><img src="c-ishi.gif"></div>
<div class="haikei" id="c24"><img src="c-ishi.gif"></div>
<div class="haikei" id="c25"><img src="c-ishi.gif"></div>
<div class="haikei" id="c30"><img src="c-mizu.gif"></div>
<div class="haikei" id="c31"><img src="c-mizu.gif"></div>
<div class="haikei" id="c32"><img src="c-mizu.gif"></div>
<div class="haikei" id="c33"><img src="c-mizu.gif"></div>
<div class="haikei" id="c34"><img src="c-mizu.gif"></div>
<div class="haikei" id="c35"><img src="c-mizu.gif"></div>
<div class="haikei" id="c45"><img src="c-saka.gif"></div>

<div class="kanban" id="r8"><img src="rest8.gif"></div>
<div class="kanban" id="r4"><img src="rest4.gif"></div>
<div class="kanban" id="r0"><img src="finish.gif"></div>

<div class="kanban" id="s1"><img src="syogai.gif"></div>
<div class="kanban" id="s2"><img src="syogai.gif"></div>
<div class="kanban" id="s3"><img src="syogai.gif"></div>
<div class="kanban" id="s4"><img src="syogai.gif"></div>
<div class="kanban" id="s5"><img src="syogai.gif"></div>
<div class="kanban" id="s6"><img src="syogai.gif"></div>

<div class="buta" id="w0"><img src="g1_pyra.gif"></div>
<div class="buta" id="w1"><img src="g1_cho.gif"></div>
<div class="buta" id="w2"><img src="g1_tro.gif"></div>
<div class="buta" id="w3"><img src="g1_eiff.gif"></div>


<div class="buta" id="racetitle"><img src="waku_left.gif" width=1 height=1><img src="waku_right.gif" width=1 height=1></div>

</body>
</html>
